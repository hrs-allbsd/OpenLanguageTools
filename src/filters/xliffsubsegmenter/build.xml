<?xml version="1.0"?>

<!-- this is a child build script -->

<project name="xliffsubsegmenter" basedir="." default="all">
	<import file="../../../common.xml"/>
	
    <path id="build.classpath">
		<path location="${build.dir}"/>
		<path refid="deps.jaxb"/>
		<path location="../build"/>
	</path>

	<available 
		classname="org.jvnet.olt.alignment.Segment"
	   	property="do.build.deps"
		classpathref="build.classpath"
	/>

	<target name="compile" depends="local-deps,common.compile">
	</target>

	<target name="pre-compile" depends="common.pre-compile">
	       <mkdir dir="${build.dir}/org/jvnet/olt/filters/xliffsubsegment/xliff/"/>
	       <copy file="src/org/jvnet/olt/filters/xliffsubsegment/xliff/jaxb.properties"
		     tofile="${build.dir}/org/jvnet/olt/filters/xliffsubsegment/xliff/jaxb.properties"/>

	</target>
	
	<target name="local-deps" unless="do.build.deps">
		<ant dir="../alignment_interface"/>
		<ant dir="../html_parser/">
			<property name="do.phase1" value="please"/>
		</ant>
		<ant dir="../jsp_filter/">
			<property name="do.phase1" value="please"/>
		</ant>
		<ant dir="../sgml_filter/">
			<property name="do.phase1" value="please"/>
		</ant>
		<ant dir="../segmenter_formatters/"/>
		<ant dir="../segmenters/"/>
		<ant dir="../non-conformant_sgml_tag_parser/"/>
		<ant dir="../sgml_filter/"/>
		
	</target>

</project>
